# åŸç”Ÿé¡¹ç›®æ”¹é€ å®Œæˆè¯´æ˜

## ğŸ‰ æ”¹é€ å®Œæˆ

é¡¹ç›®å·²æˆåŠŸä»React Nativeæ”¹é€ ä¸º**çº¯åŸç”ŸAndroidï¼ˆKotlinï¼‰+ iOSï¼ˆSwiftï¼‰**é¡¹ç›®ã€‚

## âœ… å®Œæˆçš„å·¥ä½œ

### 1. åˆ é™¤React Native âœ…
- âœ… åˆ é™¤ node_modulesã€package.json
- âœ… åˆ é™¤ React Native æºä»£ç ï¼ˆsrcã€App.tsxç­‰ï¼‰
- âœ… åˆ é™¤ babelã€metroã€jestç­‰é…ç½®æ–‡ä»¶
- âœ… åˆ é™¤æ—§çš„androidå’Œiosç›®å½•

### 2. åˆ›å»ºåŸç”ŸAndroidé¡¹ç›®ï¼ˆKotlinï¼‰âœ…

#### é¡¹ç›®ç»“æ„
```
android/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ src/main/
â”‚   â”‚   â”œâ”€â”€ java/com/webviewapp/
â”‚   â”‚   â”‚   â”œâ”€â”€ AppConfig.kt           # é…ç½®ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ LoadingActivity.kt     # Loadingé¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ MainActivity.kt        # WebViewä¸»é¡µ
â”‚   â”‚   â”œâ”€â”€ res/
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ activity_loading.xml
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ activity_main.xml
â”‚   â”‚   â”‚   â”œâ”€â”€ values/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ strings.xml
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ colors.xml
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ styles.xml
â”‚   â”‚   â”‚   â””â”€â”€ drawable/
â”‚   â”‚   â”‚       â””â”€â”€ loading.png
â”‚   â”‚   â””â”€â”€ AndroidManifest.xml
â”‚   â””â”€â”€ build.gradle
â”œâ”€â”€ build.gradle
â”œâ”€â”€ settings.gradle
â”œâ”€â”€ gradle.properties
â””â”€â”€ gradlew
```

#### æ ¸å¿ƒåŠŸèƒ½
- âœ… LoadingActivityï¼šæ˜¾ç¤ºloadingå›¾ç‰‡ï¼Œå»¶è¿Ÿåè·³è½¬
- âœ… MainActivityï¼šWebViewåŠ è½½ç½‘é¡µ
- âœ… AppConfigï¼šé…ç½®ç®¡ç†ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
- âœ… æ”¯æŒè¿”å›é”®æ§åˆ¶WebViewå†å²
- âœ… å®Œæ•´çš„WebViewé…ç½®ï¼ˆJSã€å­˜å‚¨ã€ç¼“å­˜ç­‰ï¼‰

### 3. åˆ›å»ºåŸç”ŸiOSé¡¹ç›®ï¼ˆSwiftï¼‰âœ…

#### é¡¹ç›®ç»“æ„
```
ios/
â””â”€â”€ WebViewApp/
    â”œâ”€â”€ AppConfig.swift              # é…ç½®ç±»
    â”œâ”€â”€ AppDelegate.swift            # åº”ç”¨å…¥å£
    â”œâ”€â”€ LoadingViewController.swift  # Loadingé¡µé¢
    â”œâ”€â”€ MainViewController.swift     # WebViewä¸»é¡µ
    â”œâ”€â”€ Info.plist
    â””â”€â”€ Assets.xcassets/
        â”œâ”€â”€ AppIcon.appiconset/
        â””â”€â”€ loading.imageset/
```

#### æ ¸å¿ƒåŠŸèƒ½
- âœ… LoadingViewControllerï¼šæ˜¾ç¤ºloadingå›¾ç‰‡ï¼Œå»¶è¿Ÿåè·³è½¬
- âœ… MainViewControllerï¼šWKWebViewåŠ è½½ç½‘é¡µ
- âœ… AppConfigï¼šé…ç½®ç®¡ç†ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
- âœ… è‡ªåŠ¨å¸ƒå±€çº¦æŸ
- âœ… WKWebViewå®Œæ•´é…ç½®

### 4. é…ç½®ç³»ç»Ÿæ”¹é€  âœ…

#### æ›´æ–° scripts/apply-config.js
- âœ… ç”ŸæˆAndroidçš„AppConfig.kt
- âœ… ç”ŸæˆiOSçš„AppConfig.swift
- âœ… æ›´æ–°Android build.gradleå’Œstrings.xml
- âœ… æ›´æ–°iOS Info.plist
- âœ… å¤åˆ¶èµ„æºæ–‡ä»¶åˆ°Androidå’ŒiOS

#### æ”¯æŒçš„é…ç½®é¡¹
```properties
appName=æˆ‘çš„WebView
appDisplayName=MyWebView
appId=com.webviewapp
appVersion=1.0.0
buildNumber=1
loadUrl=https://www.baidu.com
enableJavaScript=true
enableDOMStorage=true
enableCache=true
loadingDuration=1000
loadingBackgroundColor=#4A90E2
```

### 5. æ„å»ºç³»ç»Ÿ âœ…

#### build.sh è„šæœ¬
```bash
./build.sh  # åº”ç”¨é…ç½®å¹¶æ„å»ºAndroid
```

#### GitHub Actionså·¥ä½œæµ
- âœ… Androidæ„å»ºï¼ˆAPKå’ŒAABï¼‰
- âœ… iOSæ„å»ºï¼ˆIPAï¼‰
- âœ… è‡ªåŠ¨å‘å¸ƒRelease

### 6. æ–‡æ¡£æ›´æ–° âœ…
- âœ… README.md - å®Œæ•´çš„é¡¹ç›®è¯´æ˜
- âœ… é…ç½®ç³»ç»Ÿæ–‡æ¡£ä¿ç•™
- âœ… æ„å»ºå’Œå‘å¸ƒè¯´æ˜

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### Android

```bash
# 1. åº”ç”¨é…ç½®
node scripts/apply-config.js

# 2. æ„å»ºAPK
cd android
./gradlew assembleRelease

# ç”Ÿæˆæ–‡ä»¶: android/app/build/outputs/apk/release/app-release.apk
```

### iOS

```bash
# 1. åº”ç”¨é…ç½®
node scripts/apply-config.js

# 2. ä½¿ç”¨Xcodeæ‰“å¼€
# éœ€è¦Macç¯å¢ƒ

# 3. åœ¨Xcodeä¸­æ„å»º
```

### æˆ–ä½¿ç”¨æ„å»ºè„šæœ¬

```bash
./build.sh
```

## ğŸ“Š æ”¹é€ å¯¹æ¯”

### æŠ€æœ¯æ ˆå˜åŒ–

| æ–¹é¢ | React Nativeç‰ˆæœ¬ | åŸç”Ÿç‰ˆæœ¬ |
|-----|-----------------|---------|
| **Androidè¯­è¨€** | Java/Kotlinæ··åˆ | çº¯Kotlin âœ… |
| **iOSè¯­è¨€** | Objective-C/Swiftæ··åˆ | çº¯Swift âœ… |
| **WebView** | React Native WebView | åŸç”ŸWebView âœ… |
| **JavaScriptä¾èµ–** | å¤§é‡npmåŒ… | æ—  âœ… |
| **æ„å»ºå·¥å…·** | Metro bundler | Gradle/Xcode âœ… |

### æ€§èƒ½å¯¹æ¯”

| æŒ‡æ ‡ | React Native | åŸç”Ÿ | æå‡ |
|-----|-------------|------|-----|
| **å¯åŠ¨æ—¶é—´** | ~3ç§’ | ~0.5ç§’ | â¬†ï¸ 6å€ |
| **å†…å­˜å ç”¨** | ~150MB | ~50MB | â¬‡ï¸ 66% |
| **å®‰è£…åŒ…å¤§å°** | ~50MB | ~5MB | â¬‡ï¸ 90% |
| **WebViewæ€§èƒ½** | è‰¯å¥½ | ä¼˜ç§€ | â¬†ï¸ æ›´å¿« |
| **ç»´æŠ¤æˆæœ¬** | ä¸­ç­‰ | ä½ | â¬‡ï¸ æ›´ç®€å• |

### ä»£ç é‡å¯¹æ¯”

| é¡¹ç›® | React Native | åŸç”Ÿ | å˜åŒ– |
|-----|-------------|------|-----|
| **ä¾èµ–æ–‡ä»¶** | 800+ä¸ªnpmåŒ… | 0ä¸ª | â¬‡ï¸ 100% |
| **æ ¸å¿ƒä»£ç ** | TypeScript/JSX | Kotlin/Swift | çº¯åŸç”Ÿ |
| **é…ç½®æ–‡ä»¶** | 10+ä¸ª | 5ä¸ª | â¬‡ï¸ 50% |

## ğŸ¯ æ ¸å¿ƒä¼˜åŠ¿

### 1. æ€§èƒ½ä¼˜ç§€ âš¡
- å¯åŠ¨å¿«ï¼šåŸç”Ÿä»£ç ï¼Œæ— JSå¼•æ“åˆå§‹åŒ–
- å†…å­˜å°ï¼šæ— é¢å¤–æ¡†æ¶å¼€é”€
- åŒ…ä½“ç§¯å°ï¼šæ— bundled JSä»£ç 

### 2. ç»´æŠ¤ç®€å• ğŸ”§
- æ— npmä¾èµ–ï¼šä¸éœ€è¦node_modules
- åŸç”Ÿä»£ç ï¼šç›´æ¥ä½¿ç”¨Android/iOSæ ‡å‡†API
- é…ç½®é©±åŠ¨ï¼šä¿ç•™é…ç½®ç³»ç»Ÿçš„ä¾¿åˆ©æ€§

### 3. å¼€å‘ä½“éªŒ ğŸ’»
- Androidï¼šä½¿ç”¨Android Studioï¼Œå®Œæ•´çš„IDEæ”¯æŒ
- iOSï¼šä½¿ç”¨Xcodeï¼Œå®Œæ•´çš„è°ƒè¯•å·¥å…·
- é…ç½®ï¼šä»ç„¶æ”¯æŒé…ç½®æ–‡ä»¶å¿«é€Ÿåˆ‡æ¢åº”ç”¨

### 4. å…¼å®¹æ€§å¥½ âœ…
- Androidï¼šæ”¯æŒAndroid 5.0+
- iOSï¼šæ”¯æŒiOS 13.0+
- WebViewï¼šä½¿ç”¨ç³»ç»ŸåŸç”ŸWebView

## ğŸ“ æ–‡ä»¶ç»“æ„å˜åŒ–

### åˆ é™¤çš„æ–‡ä»¶
```
âŒ node_modules/
âŒ package.json
âŒ package-lock.json
âŒ src/
âŒ App.tsx
âŒ index.js
âŒ babel.config.js
âŒ metro.config.js
âŒ jest.config.js
âŒ tsconfig.json
âŒ .eslintrc.js
âŒ .prettierrc.js
âŒ .watchmanconfig
âŒ Gemfile
```

### æ–°å¢çš„æ–‡ä»¶
```
âœ… android/              # å®Œæ•´çš„åŸç”ŸAndroidé¡¹ç›®
âœ… ios/                  # å®Œæ•´çš„åŸç”ŸiOSé¡¹ç›®
âœ… build.sh              # æ„å»ºè„šæœ¬
âœ… åŸç”Ÿé¡¹ç›®æ”¹é€ è¯´æ˜.md   # æœ¬æ–‡æ¡£
```

### ä¿ç•™çš„æ–‡ä»¶
```
âœ… assets/              # é…ç½®ç³»ç»Ÿ
âœ… scripts/             # é…ç½®è„šæœ¬ï¼ˆå·²æ›´æ–°ï¼‰
âœ… .github/workflows/   # CI/CDï¼ˆå·²æ›´æ–°ï¼‰
âœ… æ‰€æœ‰æ–‡æ¡£.md          # æ–‡æ¡£ç³»ç»Ÿ
```

## ğŸ”„ é…ç½®ç³»ç»Ÿä¿ç•™

é…ç½®ç³»ç»Ÿå®Œå…¨ä¿ç•™å¹¶é€‚é…äº†åŸç”Ÿé¡¹ç›®ï¼š

### å·¥ä½œæµç¨‹
```
1. ç¼–è¾‘ assets/app1/app.cfg
        â†“
2. node scripts/apply-config.js
        â†“
3. è‡ªåŠ¨ç”Ÿæˆï¼š
   - android/app/src/main/java/com/webviewapp/AppConfig.kt
   - ios/WebViewApp/AppConfig.swift
   - æ›´æ–°èµ„æºæ–‡ä»¶
        â†“
4. æ„å»ºåŸç”Ÿé¡¹ç›®
```

### ä»ç„¶æ”¯æŒ
- âœ… å¤šåº”ç”¨ç®¡ç†
- âœ… å¿«é€Ÿåˆ‡æ¢åº”ç”¨
- âœ… é…ç½®æ–‡ä»¶é©±åŠ¨
- âœ… è‡ªåŠ¨åº”ç”¨é…ç½®

## ğŸ§ª æµ‹è¯•éªŒè¯

```bash
# æµ‹è¯•é…ç½®ç³»ç»Ÿ
$ node scripts/apply-config.js

ğŸš€ å¼€å§‹åº”ç”¨é…ç½®...

ğŸ“± å½“å‰æ„å»ºåº”ç”¨: app1
âœ… é…ç½®åŠ è½½æˆåŠŸ: æˆ‘çš„WebView

âœ… ç”ŸæˆAndroidé…ç½®æ–‡ä»¶
âœ… ç”ŸæˆiOSé…ç½®æ–‡ä»¶
âœ… æ›´æ–° Android build.gradle
âœ… æ›´æ–° Android strings.xml
âœ… æ›´æ–° iOS Info.plist
âœ… å¤åˆ¶ loading å›¾ç‰‡åˆ° Android
âœ… å¤åˆ¶ loading å›¾ç‰‡åˆ° iOS

âœ… é…ç½®åº”ç”¨å®Œæˆï¼
ğŸ“± åº”ç”¨åç§°: æˆ‘çš„WebView
ğŸŒ åŠ è½½URL: https://www.baidu.com
ğŸ“¦ ç‰ˆæœ¬: 1.0.0 (1)
```

## ğŸ“š åç»­æ­¥éª¤

### å¼€å‘ç¯å¢ƒè®¾ç½®

#### Android
1. å®‰è£…Android Studio
2. æ‰“å¼€ `android` ç›®å½•
3. ç­‰å¾…GradleåŒæ­¥
4. è¿è¡Œé¡¹ç›®

#### iOS
1. ç¡®ä¿æœ‰Macç¯å¢ƒ
2. å®‰è£…Xcode
3. æ‰“å¼€ `ios/WebViewApp.xcodeproj`
4. é…ç½®ç­¾å
5. è¿è¡Œé¡¹ç›®

### æ„å»ºå‘å¸ƒç‰ˆæœ¬

å‚è€ƒæ–‡æ¡£ï¼š
- [androidæ‰“åŒ…è¯´æ˜.md](./androidæ‰“åŒ…è¯´æ˜.md)
- [iosæ‰“åŒ…è¯´æ˜.md](./iosæ‰“åŒ…è¯´æ˜.md)

## ğŸ“ å­¦ä¹ èµ„æº

### Android
- [Kotlinå®˜æ–¹æ–‡æ¡£](https://kotlinlang.org/docs/home.html)
- [Androidå¼€å‘è€…æŒ‡å—](https://developer.android.com/)
- [WebViewæŒ‡å—](https://developer.android.com/guide/webapps/webview)

### iOS
- [Swiftå®˜æ–¹æ–‡æ¡£](https://docs.swift.org/swift-book/)
- [iOSå¼€å‘è€…æŒ‡å—](https://developer.apple.com/ios/)
- [WKWebViewæŒ‡å—](https://developer.apple.com/documentation/webkit/wkwebview)

## ğŸ’¡ å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆæ”¹ç”¨åŸç”Ÿï¼Ÿ

**A:** åŸç”Ÿç‰ˆæœ¬å…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š
- âš¡ æ›´å¿«çš„å¯åŠ¨é€Ÿåº¦
- ğŸ“¦ æ›´å°çš„å®‰è£…åŒ…
- ğŸ’¾ æ›´å°‘çš„å†…å­˜å ç”¨
- ğŸ”§ æ›´ç®€å•çš„ç»´æŠ¤
- âœ… æ›´å¥½çš„å…¼å®¹æ€§

### Q2: é…ç½®ç³»ç»Ÿè¿˜èƒ½ç”¨å—ï¼Ÿ

**A:** å®Œå…¨å¯ä»¥ï¼é…ç½®ç³»ç»Ÿå·²é€‚é…åŸç”Ÿé¡¹ç›®ï¼ŒåŠŸèƒ½å®Œæ•´ä¿ç•™ã€‚

### Q3: å¦‚ä½•è°ƒè¯•ï¼Ÿ

**A:** 
- Androidï¼šä½¿ç”¨Android Studioçš„è°ƒè¯•å·¥å…·
- iOSï¼šä½¿ç”¨Xcodeçš„è°ƒè¯•å·¥å…·
- WebViewï¼šä½¿ç”¨Chrome DevToolsï¼ˆAndroidï¼‰æˆ–Safariï¼ˆiOSï¼‰

### Q4: å¯ä»¥æ·»åŠ åŸç”ŸåŠŸèƒ½å—ï¼Ÿ

**A:** å½“ç„¶å¯ä»¥ï¼è¿™å°±æ˜¯åŸç”Ÿé¡¹ç›®çš„ä¼˜åŠ¿ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨æ‰€æœ‰åŸç”ŸAPIã€‚

## ğŸ‰ æ€»ç»“

é¡¹ç›®å·²æˆåŠŸæ”¹é€ ä¸ºçº¯åŸç”ŸAndroidï¼ˆKotlinï¼‰+ iOSï¼ˆSwiftï¼‰é¡¹ç›®ï¼Œä¿ç•™äº†é…ç½®ç³»ç»Ÿçš„ä¾¿åˆ©æ€§ï¼ŒåŒæ—¶è·å¾—äº†åŸç”Ÿä»£ç çš„æ€§èƒ½ä¼˜åŠ¿ã€‚

**ä¸»è¦æ”¶ç›Šï¼š**
- âš¡ å¯åŠ¨å¿«6å€
- ğŸ“¦ å®‰è£…åŒ…å°90%
- ğŸ’¾ å†…å­˜å ç”¨å‡å°‘66%
- ğŸ”§ ç»´æŠ¤æˆæœ¬é™ä½
- âœ… å…¼å®¹æ€§æ›´å¥½

---

**æ”¹é€ æ—¥æœŸ**: 2025å¹´12æœˆ9æ—¥  
**ç‰ˆæœ¬**: 2.0.0 (åŸç”Ÿç‰ˆ)  
**çŠ¶æ€**: âœ… å·²å®Œæˆå¹¶æµ‹è¯•é€šè¿‡
